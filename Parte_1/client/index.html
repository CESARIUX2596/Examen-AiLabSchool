<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dynamic Table from CSV File</title>
  </head>
  <body>
    <table id="myTable">
      <thead>
        <tr>
            <th>id</th>
            <th>gender</th>
            <th>age</th>
            <th>hypertension</th>
            <th>heart_disease</th>
            <th>ever_married</th>
            <th>work_type</th>
            <th>Residence_type</th>
            <th>avg_glucose_level</th>
            <th>bmi</th>
            <th>smoking_status</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <script>
      const table = document.getElementById("myTable");
      const tbody = table.getElementsByTagName("tbody")[0];

      // Load the CSV file
      fetch("data.csv")
        .then(response => response.text())
        .then(data => {
          // Split the data into rows
          const rows = data.trim().split("\n");

          // Iterate over the rows and create table cells
          for (let i = 1; i < rows.length; i++) { // start at i=1 to skip header row
            const cells = rows[i].split(",");
            const row = document.createElement("tr");

            for (let j = 0; j < cells.length; j++) {
              const cell = document.createElement("td");
              const cellText = document.createTextNode(cells[j]);
              cell.appendChild(cellText);
              console.log(cellText);
              row.appendChild(cell);
            }

            tbody.appendChild(row);
          }
        });
    </script>
  </body>
</html>
